/*
	hashids
	http://www.hashids.org/javascript/
	(c) 2012 Ivan Akimov
	
	https://github.com/ivanakimov/hashids.js
	hashids may be freely distributed under the MIT license.
*/var Hashids=function(){function e(e,t,n){this.version="0.1.4",this.salt=e!=null?e:"",this.alphabet="xcS4F6h89aUbideAI7tkynuopqrXCgTE5GBKHLMjfRsz",this.primes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43],this.minHashLength=parseInt(t)>0?t:0,this.seps=[],this.guards=[],n!=null&&typeof n=="string"&&(this.alphabet=n);for(var r="",i=0,s=this.alphabet.length;i!=s;i++)r.indexOf(this.alphabet[i])==-1&&(r+=this.alphabet[i]);this.alphabet=r;if(this.alphabet.length<4)throw"Alphabet must contain at least 4 unique characters.";for(var i=0,s=this.primes.length;i!=s;i++){var o=this.primes[i];if(this.alphabet[o-1]==undefined)break;var u=this.alphabet[o-1];this.seps.push(u),this.alphabet=this.alphabet.replace(new RegExp(u,"g")," ")}var a=[0,4,8,12];for(var i=0,s=a.length;i!=s;i++){var f=a[i];this.seps[f]!=undefined&&(this.guards.push(this.seps[f]),this.seps.splice(f,1))}this.alphabet=this.alphabet.replace(/\s/g,""),this.alphabet=this.consistentShuffle(this.alphabet,this.salt)}return e.prototype.encrypt=function(){var e="",t=[];for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);if(!t.length)return e;for(var n=0,r=t.length;n!=r;n++)if(typeof t[n]!="number"||t[n]%1!=0||t[n]<0)return e;return this.encode(t,this.alphabet,this.salt,this.minHashLength)},e.prototype.decrypt=function(e){var t=[];return!e.length||typeof e!="string"?t:this.decode(e)},e.prototype.encode=function(e,t,n,r){var i="",s=this.consistentShuffle(this.seps,e).split(""),o="";for(var u=0,a=e.length;u!=a;u++){var f=e[u];if(!u){var l=e.join("-");for(var c=0;c!=a;c++)l+="-"+(e[c]+1)*2;var h=this.consistentShuffle(t,l);i+=o=h[0],t=o+t.replace(new RegExp(o,"g"),"")}t=this.consistentShuffle(t,(o.charCodeAt(0)&12345)+""+n),i+=this.hash(f,t);if(u+1<e.length){var p=(f+u)%s.length;i+=s[p]}}if(i.length<r){var d=0;for(var u=0,a=e.length;u!=a;u++){var f=e[u];d+=(u+1)*f}var v=d%this.guards.length,m=this.guards[v];i=m+i,i.length<r&&(v=(v+i.length)%this.guards.length,m=this.guards[v],i+=m)}while(i.length<r){var g=[t[1].charCodeAt(0),t[0].charCodeAt(0)],y=this.encode(g,t,n),b=this.encode(g,t,g.join(""));i=y+i+b;var w=i.length-r;w>0&&(i=i.substr(w/2,r)),t=this.consistentShuffle(t,n+i)}return i},e.prototype.decode=function(e){var t=[];if(e.length){var n=e,r="",i="";for(var s=0,o=this.guards.length;s!=o;s++)e=e.replace(new RegExp(this.guards[s],"g")," ");var u=e.split(" "),s=0;if(u.length==3||u.length==2)s=1;e=u[s];for(var s=0,o=this.seps.length;s!=o;s++)e=e.replace(new RegExp(this.seps[s],"g")," ");var a=e.split(" ");for(var s=0,o=a.length;s!=o;s++){var f=a[s];f.length&&(s||(i=e[0],f=f.substr(1),r=i+this.alphabet.replace(i,"")),r.length&&i.length&&(r=this.consistentShuffle(r,(i.charCodeAt(0)&12345)+""+this.salt),t.push(this.unhash(f,r))))}this.encrypt.apply(this,t)!=n&&(t=[])}return t},e.prototype.consistentShuffle=function(e,t){var n="";typeof e=="object"&&(e=e.join("")),typeof t=="object"&&(t=t.join(""));if(e.length){var r=e.split(""),i=t.split(""),s=[];i.length||i.push("");for(var o=0,u=i.length;o!=u;o++)s.push(i[o].charCodeAt(0)||0);for(var o=0,u=s.length;o!=u;o++){var a=!0;for(var f=o,l=u+o-1;f!=l;f++){var c=(f+1)%s.length;a?s[o]+=s[c]+f*o:s[o]-=s[c],a=!a}s[o]=Math.abs(s[o])}var o=0;while(r.length){var h=r.length,p=s[o];p>=h&&(p%=h),n+=r[p],r.splice(p,1),o=++o%s.length}}return n},e.prototype.hash=function(e,t){var n="",r=t.length;do n=t[e%r]+n,e=parseInt(e/r);while(e);return n},e.prototype.unhash=function(e,t){var n=0,r;for(var i=0;i<e.length;i++)r=t.indexOf(e[i]),n+=r*Math.pow(t.length,e.length-i-1);return n},e}();